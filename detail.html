<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Store</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glider-js@1.7.7/glider.min.css">
    <script src="https://cdn.jsdelivr.net/npm/glider-js@1.7.7/glider.min.js"></script>
    <style>
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        input[type="number"] {
            -moz-appearance: textfield;
            appearance: textfield;
        }
    </style>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const quantityInput = document.getElementById("quantity");
            const priceElement = document.getElementById("price");
            const unitPrice = 100000;

            function updatePrice() {
                const quantity = parseInt(quantityInput.value);
                priceElement.textContent = (unitPrice * quantity).toLocaleString('vi-VN', {
                    style: 'currency',
                    currency: 'VND'
                });
            }

            document.getElementById("increment").addEventListener("click", function () {
                quantityInput.value = parseInt(quantityInput.value) + 1;
                updatePrice();
            });

            document.getElementById("decrease").addEventListener("click", function () {
                if (parseInt(quantityInput.value) > 1) {
                    quantityInput.value = parseInt(quantityInput.value) - 1;
                    updatePrice();
                }
            });

            quantityInput.addEventListener("input", function () {
                if (parseInt(quantityInput.value) < 1) {
                    quantityInput.value = 1;
                }
                updatePrice();
            });
        });

        document.addEventListener('DOMContentLoaded', function () {
            new Glider(document.querySelector('.glider'), {

                slidesToShow: 2,
                slidesToScroll: 1,
                draggable: true,
                dots: '.dots',
                arrows: {

                    prev: '.glider-prev',
                    next: '.glider-next'
                }
            });
        });

        document.addEventListener('DOMContentLoaded', function () {
        const recommendedList = document.getElementById('recommended-list');
        let page = 1;

        function loadMoreBooks() {
            // Mô phỏng việc tải thêm sách từ máy chủ
            for (let i = 0; i < 4; i++) {
                const bookDiv = document.createElement('div');
                bookDiv.className = 'bg-white p-4 rounded shadow';
                bookDiv.innerHTML = `
                    <div class="h-32 bg-gray-200 flex items-center justify-center">Book Title ${page * 4 + i + 1}</div>
                    <p class="mt-2">Author: Lorem</p>
                    <p class="text-green-500">50.000vnđ</p>
                `;
                recommendedList.appendChild(bookDiv);
            }
            page++;
        }

        window.addEventListener('scroll', function () {
            if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight - 500) {
                loadMoreBooks();
            }
        });
    });
    </script>
</head>

<body class="bg-gray-100">
    <!-- Header -->
    <header class="bg-white shadow">
        <div class="container mx-auto flex justify-between items-center p-4">
            <div class="text-lg font-bold">LOGO</div>
            <nav class="flex space-x-4">
                <a href="#" class="text-gray-700">Homepage</a>
                <a href="#" class="text-gray-700">Sách</a>
                <a href="#" class="text-gray-700">Tác giả</a>
                <a href="#" class="text-gray-700">Về chúng tôi</a>
            </nav>
            <div class="flex items-center space-x-4">
                <input type="text" placeholder="Tìm kiếm" class="border p-2 rounded">
                <button class="bg-green-500 text-white p-2 rounded">Tìm kiếm</button>
                <button class="bg-gray-700 text-white p-2 rounded">Đăng nhập</button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto p-4">
        <!-- Breadcrumb -->
        <div class="container mx-auto px-4 py-4 container-limited">
            <nav class="text-gray-600 text-sm">
                <a href="#" class="hover:underline">Home</a>
                <span class="mx-2">></span>
                <a href="#" class="hover:underline">Books</a>
                <span class="mx-2">></span>
                <a href="#" class="hover:underline">When Breath Becomes Air</a>
            </nav>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <!-- Book Image -->
            <div class="col-span-1">
                <div class="p-4 rounded">
                    <img class="w-full h-auto object-cover mb-4" src="./resource/image_195509_1_33143-removebg-preview.png" alt="When Breath Becomes Air">
                </div>
                <div>
                    <div class="grid grid-cols-4 gap-2">
                        <img src="https://cdn0.fahasa.com/media/catalog/product/i/m/image_195509_1_33143.jpg" alt="Thumbnail" class="w-full">
                        <img src="https://cdn0.fahasa.com/media/catalog/product/i/m/image_195509_1_33143.jpg" alt="Thumbnail" class="w-full">
                        <img src="https://cdn0.fahasa.com/media/catalog/product/i/m/image_195509_1_33143.jpg" alt="Thumbnail" class="w-full">
                        <img src="https://cdn0.fahasa.com/media/catalog/product/i/m/image_195509_1_33143.jpg" alt="Thumbnail" class="w-full">
                    </div>
                </div>
            </div>

            <!-- Book Details -->
            <div class="col-span-2 space-y-4">
                <div class="bg-white p-4 rounded shadow">
                    <h1 class="text-2xl font-bold">When Breath Becomes Air</h1>
                    <div class="flex items-center mb-4">
                        <div class="text-yellow-500">★★★★☆</div>
                        <span class="ml-2 text-gray-600">5 reviews</span>
                      </div>
                    <p class="text-xl text-green-500 font-semibold">100.000 đ</p>
                    <div class="mb-4">
                        <label class="block text-gray-700">Bracelet animal</label>
                        <select class="border rounded w-full py-2 px-3 mt-1">
                          <option>Dog</option>
                          <option>Cat</option>
                        </select>
                    </div>

                    <div class="mb-4">
                        <label class="block text-gray-700">Color</label>
                        <select class="border rounded w-full py-2 px-3 mt-1">
                          <option>Turquoise</option>
                          <option>Red</option>
                          <option>Black</option>
                        </select>
                    </div>

                    <div class="flex items-center mb-4">
                        <span class="text-gray-700">Availability:</span>
                        <span class="ml-2 text-green-600">10 in stock</span>
                    </div>
                
                    <div class="container flex flex-wrap items-start justify-start gap-4 mb-4">
                        <div class="flex flex-wrap items-center border border-gray-300 rounded-md overflow-hidden mb-4 md:w-auto">
                            <button class="px-4 py-2 text-xl text-gray-700 hover:bg-gray-200 focus:outline-none w-10 h-10" id="decrease">-</button>
                            <input id="quantity" type="number" value="1" min="1" max="99"
                            class="bg-gray-100 text-xl border-gray-300 focus:outline-none text-center"
                            style="width: 4rem; height: 2.5rem;">
                            <button class="px-3 py-2 text-xl text-gray-700 hover:bg-gray-200 focus:outline-none w-10 h-10" id="increment">+</button>
                        </div>
                        <button class="text-green-300 rounded-lg hover:bg-green-400 hover:text-white border border-green-300 focus:outline-none px-4 py-2 h-10 mb-4 sm:w-full md:w-auto">
                            Add to cart
                        </button>
                        <button class="text-white bg-green-400 rounded-lg hover:bg-green-600 focus:outline-none px-4 py-2 h-10 mb-4 sm:w-full md:w-auto">
                           Buy now
                        </button>
                    </div>

                    <div class="mt-4 space-x-4">
                        <button class="text-gray-600">Share on:</button>
                        <button class="text-gray-600"><a href=""></a>Facebook</button>
                        <button class="text-gray-600"><a href="">Instagram</a></button>
                    </div>
                </div>
                <div class="bg-white p-4 rounded shadow">
                    <h2 class="text-xl font-bold">Description</h2>
                    <p class="text-gray-700">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Necessitatibus libero ut dicta. Praesentium iste ex cum, esse repellat omnis voluptatem ullam voluptatibus! Quo necessitatibus quis omnis neque labore? Iure, sint.
                    Assumenda officia iste repellendus sit, qui quo architecto mollitia esse quas impedit accusantium iusto aliquid vel magnam necessitatibus ut doloribus illum facilis. Aliquam iure iste harum, quasi maiores ad iusto.</p>
                </div>
                <div class="bg-white p-4 rounded shadow">
                    <h2 class="text-xl font-bold">Product Details</h2>
                    <ul class="text-gray-700">
                        <li><strong>Author: Paul Kalanithi</strong> </li>
                        <li><strong>Publishing year:</strong>2017 </li>
                        <li><strong>Puplisher:</strong>Vintage</li>
                        <li><strong>Language:</strong>English</li>
                        <li><strong>Quantity of Page:</strong> 256 pages</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Related Products -->
        <section class="mt-8">
            <h2 class="text-xl font-bold">Related Products</h2>
            <div class="mb-20 glider-contain bg-green-200 rounded-md">
                <div class="glider">
                    <div class="bg-white p-4 rounded shadow w-48">
                        <div class="h-32 bg-gray-200 flex items-center justify-center">Book Title</div>
                        <p class="mt-2">Author: Lorem</p>
                        <p class="text-green-500">50.000vnđ</p>
                    </div>
                    <div class="bg-white p-4 rounded shadow w-48">
                        <div class="h-32 bg-gray-200 flex items-center justify-center">Book Title</div>
                        <p class="mt-2">Author: Lorem</p>
                        <p class="text-green-500">50.000vnđ</p>
                    </div>
                    <div class="bg-white p-4 rounded shadow w-48">
                        <div class="h-32 bg-gray-200 flex items-center justify-center">Book Title</div>
                        <p class="mt-2">Author: Lorem</p>
                        <p class="text-green-500">50.000vnđ</p>
                    </div>
                    <div class="bg-white p-4 rounded shadow w-48">
                        <div class="h-32 bg-gray-200 flex items-center justify-center">Book Title</div>
                        <p class="mt-2">Author: Lorem</p>
                        <p class="text-green-500">50.000vnđ</p>
                    </div>
                    <div class="bg-white p-4 rounded shadow w-48">
                        <div class="h-32 bg-gray-200 flex items-center justify-center">Book Title</div>
                        <p class="mt-2">Author: Lorem</p>
                        <p class="text-green-500">50.000vnđ</p>
                    </div>
                </div>
                <button aria-label="Previous" class="glider-prev">«</button>
                <button aria-label="Next" class="glider-next">»</button>
                <div role="tablist" class="dots"></div>
            </div>
        </section>

        <!-- Recommend -->
        <section class="mt-8" id="recommended-section">
            <h2 class="text-xl font-bold">Recommended</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4" id="recommended-list">
                <div class="bg-white p-4 rounded shadow">
                    <div class="h-32 bg-gray-200 flex items-center justify-center">Book Title</div>
                    <p class="mt-2">Author: Lorem</p>
                    <p class="text-green-500">50.000vnđ</p>
                </div>
                <div class="bg-white p-4 rounded shadow">
                    <div class="h-32 bg-gray-200 flex items-center justify-center">Book Title</div>
                    <p class="mt-2">Author: Lorem</p>
                    <p class="text-green-500">100.000vnđ</p>
                </div>
                <div class="bg-white p-4 rounded shadow">
                    <div class="h-32 bg-gray-200 flex items-center justify-center">Book Title</div>
                    <p class="mt-2">Author: Lorem</p>
                    <p class="text-green-500">50.000vnđ</p>
                </div>
                <div class="bg-white p-4 rounded shadow">
                    <div class="h-32 bg-gray-200 flex items-center justify-center">Book Title</div>
                    <p class="mt-2">Author: Lorem</p>
                    <p class="text-green-500">250.000vnđ</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white mt-8">
        <div class="container mx-auto p-4 flex justify-between items-center">
            <div>
                <p class="font-bold">Logo</p>
                <p>About | Feedback | Help | Terms | Privacy | Advertise | Contact</p>
            </div>
            <div class="flex space-x-4">
                <a href="#" class="text-white">Facebook</a>
                <a href="#" class="text-white">LinkedIn</a>
                <a href="#" class="text-white">YouTube</a>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/glider-js@1.7.7/glider.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            new Glider(document.querySelector('.glider'), {
                slidesToShow: 2,
                slidesToScroll: 1,
                draggable: true,
                dots: '.dots',
                arrows: {
                    prev: '.glider-prev',
                    next: '.glider-next'
                }
            });

            const recommendedList = document.getElementById('recommended-list');
            let page = 1;
            let lastScrollTop = 0;

            function loadMoreBooks() {
                // Mô phỏng việc tải thêm sách từ máy chủ
                for (let i = 0; i < 4; i++) {
                    const bookDiv = document.createElement('div');
                    bookDiv.className = 'bg-white p-4 rounded shadow';
                    bookDiv.setAttribute('data-aos', 'fade-up'); // Thêm hiệu ứng AOS
                    bookDiv.innerHTML = `
                        <div class="h-32 bg-gray-200 flex items-center justify-center">Book Title ${page * 4 + i + 1}</div>
                        <p class="mt-2">Author: Lorem</p>
                        <p class="text-green-500">50.000vnđ</p>
                    `;
                    recommendedList.appendChild(bookDiv);
                }
                AOS.refresh(); // Làm mới AOS để nhận diện các phần tử mới
                page++;
            }

            function hideBooksUpwards() {
                const scrollTop = window.scrollY;
                let scrollDirection = scrollTop > lastScrollTop ? 'down' : 'up';
                lastScrollTop = scrollTop;

                if (scrollDirection === 'up') {
                    // Tìm index của cuốn sách gần nhất với đầu trang
                    let topVisibleBookIndex = 0;
                    const books = Array.from(recommendedList.children);
                    for (let i = 0; i < books.length; i++) {
                        const rect = books[i].getBoundingClientRect();
                        if (rect.top >= 0) {
                            topVisibleBookIndex = i;
                            break;
                        }
                    }

                    // Ẩn đi các cuốn sách từ đầu trang đến cuốn sách topVisibleBookIndex
                    for (let i = 0; i < topVisibleBookIndex; i++) {
                        books[i].style.display = 'none';
                    }
                }
            }       

            window.addEventListener('scroll', function () {
                if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight - 500) {
                    loadMoreBooks();
                }

                // Ẩn đi sách khi cuộn lên
                hideBooksUpwards();
            });

            // Khởi tạo AOS
            AOS.init({
                duration: 800,
                once: true,
            });
        });

    </script>
</body>

</html>











